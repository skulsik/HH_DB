# HH_DB описание проекта
Парсер вакансий - программа считывает вакансии с HH.ru от 10 работодателей(в этой версии работодатели предопределены,
количество максимально считываемых вакансий 100). После считывания, вакансии записываются в базу данных. Настройки для
связи с БД, прописаны в database.ini(перед запуском программы нужно прописать свои данные). Запись происходит в две
таблицы: работодатель в одну, вакансии в другую со ссылкой на первичный ключ работодателя. В программе реализован
текстовый интерфейс. Управление происходит посредством команд.
Имеются функции: 
 - вывод всех вакансий
 - вывод всех компаний и количество вакансий у каждой компании
 - вывод вакансий со средней зарплатой по данной вакансии
 - вывод вакансий, у которых зарплата выше средней по всем вакансиям
 - вывод вакансий по ключевому слову
 - выход из программы

# Описание работы программы
1. Подключение библиотек: как написанных в данном проекте, так и из окружения.
2. Запуск главной функции
 - объявление переменой, хранящую информацию о названии базы данных(далее бд)
 - создание экземпляра класса бд(класс с основными функциями для работы с бд)
 - вызывает метод проверяющий существование бд, если бд не существует, создает ее
 - вызывает метод проверяющий существование таблицы, если таблица не существует, создает ее(метод вызывается столько раз, сколько нужно проверить и создать таблиц)
 - проверка таблиц на существование в них данных
 - условие: если таблицы в бд пустые, прописывает в переменную команду "update" на обновление данных 
 - запускает цикл, который работает пока пользователь не введет команду "exit"
 - условие: если дана команда "update": считывает вакансии с HH.ru, приводит их к удобному для работы виду и записывает в список; условие: если таблицы не пустые, а команда "update", оправляется запрос на уничтожение данных в таблицах; чистка файла с запросами(удаление запросов на заполнение таблиц); запись данных в бд; ставит флаги True на случай последующего обновления
 - условие: вывод всех вакансий в случае команды "update" или "all_vacancies" или в случае если ни каких команнд не вводилось(при первом запуске с существующими данными в бд)
 - условие: если дана команда "get_companies", вызывает метод: который выводит все компании и количество вакансий у каждой компании
 - условие: если дана команда "average_salary", вызывает метод: который выводит среднюю зарплату по вакансиям
 - условие: если дана команда "higher_salary", вызывает метод: который выводит список всех вакансий, у которых зарплата выше средней по всем вакансиям
 - условие: если дана команда "vacancies_keyword", вызывает метод: который выводит все вакансии, в названии которых содержатся переданные в метод слова, например “python”.
 - Предложение ввести команду, описание команд

# Структура данных проекта
Корень проекта:
 - main.py: главный фаил с программой
 - Readme: описание проекта
 - requirements.txt: библиотеки для установки

Папка Lib:
 - фаил HH: class ReadfileJson - читает фаил Employers.json, в котором записаны работодатели и их id; class HH: считывает вакансии работадателя с hh.ru, записывает в список в удобном для работы формате.
 - фаил Verification вызывается из HH: class RequestVerification - проверяет страницу на доступность; class KeyInDictVerification - проверяет существование ключей.
 - фаил Errors вызывается из Verification: классы вызываемых ошибок.
 - фаил DB_Operations: 
   - class Config - читает фаил database.ini с настройками доступа к бд
   - class SQLWriteToFile - записывает sql запросы в фаил queries.sql
   - class FileCleaning - убирает ненужные запросы из фаила queries.sql
   - class DB_Operations:
     - метод sql_request делает запрос в бд, при необходимости возвращает ответ
     - метод creating_db проверяет существование бд, если не существует создает ее
     - метод creating_table проверяет существование таблицы, если не существует создает ее
     - метод checking_table проверяет, существую ли данные в таблице
     - метод writing_data_to_the_database заполняет таблицы данными из списка, созданного классом HH
     - метод get_all_vacancies выводит все вакансии
     - метод get_companies_and_vacancies_count выводит список всех компаний и количество вакансий у каждой компании
     - метод get_avg_salary выводит среднюю зарплату по вакансиям
     - метод get_vacancies_with_higher_salary выводит список всех вакансий, у которых зарплата выше средней по всем вакансиям
     - метод get_vacancies_with_keyword выводит список всех вакансий, в названии которых содержатся переданные в метод слова 

Папка Data:
 - database.ini - настройки для подключения к бд
 - Employers.json - работадатели и их Id
 - queries.sql - запросы для создания БД(записываются автоматически)